<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.ShoppingListController"
            prefHeight="400.0" prefWidth="600.0"
            stylesheets="@styles.css">
    <children>
        <VBox spacing="12.0" AnchorPane.leftAnchor="16.0" AnchorPane.rightAnchor="16.0" AnchorPane.topAnchor="16.0" AnchorPane.bottomAnchor="16.0">
            <children>
                <HBox spacing="8">
                    <children>
                        <Button text="← Back to Dashboard" styleClass="link-like"/>
                    </children>
                </HBox>

                <Label text="Pantry Items" styleClass="title"/>

                <HBox spacing="4" styleClass="segmented">
                    <children>
                        <ToggleButton fx:id="allToggle" text="All" selected="true" />
                        <ToggleButton fx:id="expiringToggle" text="Expiring soon" />
                        <ToggleButton fx:id="lowStockToggle" text="Low stock" />
                    </children>
                </HBox>

                <HBox spacing="8">
                    <children>
                        <TextField fx:id="searchField" promptText="Search items…" onAction="#handleSearch" HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="locationFilter" prefWidth="160" onAction="#onFilterChanged"/>
                        <Button text="Export" onAction="#handleExport"/>
                    </children>
                </HBox>

                <TableView fx:id="table" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="selectCol" text="" prefWidth="40"/>
                        <TableColumn fx:id="nameCol" text="Item"/>
                        <TableColumn fx:id="qtyCol" text="Qty" prefWidth="60"/>
                        <TableColumn fx:id="unitCol" text="Unit" prefWidth="80"/>
                        <TableColumn fx:id="locationCol" text="Location" prefWidth="100"/>
                        <TableColumn fx:id="expirationCol" text="Expiration" prefWidth="120"/>
                        <TableColumn fx:id="lowStockCol" text="Low" prefWidth="60"/>
                    </columns>
                </TableView>

                <HBox spacing="8">
                    <children>
                        <Button fx:id="addBtn" text="+ Add Item" onAction="#handleAdd"/>
                        <Button fx:id="consumeBtn" text="Consume (–1)" onAction="#handleConsume"/>
                        <Button fx:id="deleteBtn" text="Delete" onAction="#handleDelete"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </children>

</AnchorPane>
